---
title: 平方根倒数速算法
date: 2014-08-31 11:13:05
tags: [算法]
---

用于快速计算x的平方根的倒数

```` c
	float Q_rsqrt( float number )
	{
	        long i;
	        float x2, y;
	        const float threehalfs = 1.5F;

	        x2 = number * 0.5F;
	        y  = number;
	        i  = * ( long * ) &y;                       // evil floating point bit level hacking（对浮点数的邪恶位级hack）
	        i  = 0x5f3759df - ( i >> 1 );               // what the fuck?（这他妈的是怎么回事？）
	        y  = * ( float * ) &i;
	        y  = y * ( threehalfs - ( x2 * y * y ) );   // 1st iteration （第一次牛顿迭代）
	//      y  = y * ( threehalfs - ( x2 * y * y ) );   // 2nd iteration, this can be removed（第二次迭代，可以删除）

	        return y;
	}

````
