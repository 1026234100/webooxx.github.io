---
title: JS特效-拖拽
date: 2014-01-19 15:51:00
tags: [js特效,慕课网案例,拖拽]
---

## part.1

非常常见的js特效，使用了onmouseup、onmousemove 的简单事件定义，以及addEventListener标准事件侦听处理。

[效果预览](/ddemo/dragMe.html)


![效果预览](/images/dragMe.png)

```` javascript
var oDrag = document.getElementById('draggable');

	var isDraging = false;
	var startX = 0;
	var startY = 0;

	oDrag.addEventListener('mousedown',function(e){
		console.log('mousedown , isDraging = true');

		isDraging = true;

		startX = e.pageX - this.offsetLeft ;
		startY = e.pageY - this.offsetTop ;
	})

	document.onmouseup = function(e){
		console.log('mouseup , isDraging = false');
		isDraging = false;

	}

	document.onmousemove = function(e) {

	    if (isDraging) {
			oDrag.style.left = ( e.pageX - startX ) + "px";
			oDrag.style.top  = ( e.pageY - startY ) + "px";

	    }

	};
````

## part.2

使用 part.1 的基础知识，增加了背景的蒙层，模拟百度首页的登陆浮层效果。

[效果预览](/ddemo/dragBaiduLoginPanel/index.html)
![效果预览](/ddemo/dragBaiduLoginPanel/demo.png)
