---
title: '在手机上安装BT5系统,没错就是破解无线密码的那个'
date: 2011-05-25 19:11:00
tags: [Android,收集系统,无线密码破解,翻译]
---


原文地址：

http://www.backtrack-linux.org/forums/backtrack-5-how-tos/40719-installing-bt5-arm-samsung-galaxy-s-captivate.html?langid=8


在 Samsung Galaxy S (Captivate)上安装BT5 ARM

大家好

首先，祝贺BT的团队，他们太神了（居然可以有支持ARM系列CPU的系统）

这是一篇关于如何在Samsung Galaxy S(SGS - Captivate)上安装ARM 版BT5的文章，但这方法在其他同类（android）的设备上也应该是可行的。

手机准备工作

1. 一张新的microSD卡8GB以上。
2. ROOT权限,我是用z4root在机子上弄的。
3. Busybox, (如果你安装了钛备份同时也会安装busybox)
4. 一个Android的终端模拟器(我用的是ConnectBot)
5. VNC 客户端


开始安装

#### 1.首先我们得找到设备挂文件去挂载microSD卡
把SD卡装到 手机上,然后用 ConnectBot, 连接到手机.
Android系统会自动挂载SD卡

现在我们检查下哪些设备文件是用了的。

代码:
````sh
su
mount
````

找一下SD卡挂载在哪个文件上，这个根据你机器的ROM而不同，我的ROM是Cognition 3.03

在我的手机上挂载的文件是

代码:

````sh
/dev/block/vold/179:9
````


需要使用PC机了
PC的系统要用到LINUX（译注：其实用WINDOWS也可以）

#### 2. 把SD卡撞到PC机上去，并且挂载到文件系统中
我使用的是usb-microSD 适配器，所以我的SD卡挂载文件是/dev/sdb1

##### 3. 格式化SD卡为ext2格式
如题（所以，不用LINUX的话就用磁盘工具格式化成ext2也是一样）

代码:

````sh
mkfs.ext2 /dev/sdb1
````

#### 4. 挂在SD卡

代码:

````sh
mkdir /mnt/sdb1

mount -t ext2 /dev/sdb1 /mnt/sdb1
````

#### 5. 创建BT5的目录，并且解压BT5的7z包

代码:

````sh
mkdir /mnt/sdb1/BT5

cp bt5-arm.7z /mnt/sdb1/BT5

cd /mnt/sdb1/BT5

7z e bt5-arm.7z
````

#### 6. 解压映像文件

代码:

````sh
gunzip bt5.img.gz
````

#### 7. 修改引导文件（Boot Loader）

如下修改（译者：这里应该是修改解压出来BT5系统中的引导文件）
将第6行修改为: export kit=/data/local/sdcard/BT5

如果你想显示（启动）设备信息，你需要将18行修改为busybox mount -o loop,noatime -t ext2 $kit/bt5.img $mnt



代码:
```` sh
perm=$(id|cut -b 5)
if [ "$perm" != "0" ];then echo "This Script Needs Root! Type : su";exit;fi
mount -o remount,rw /dev/block/mmcblk0p5 /system
export kit=/data/local/sdcard/BT5
export bin=/system/bin
export mnt=/data/local/mnt
mkdir -p $mnt
export PATH=$bin:/usr/bin:/usr/local/bin:/usr/sbin:/bin:/usr/local/sbin:/usr/games:$PATH
export TERM=linux
export HOME=/root
if [ -b /dev/loop2 ]; then
        echo "Loop device exists"
else
        busybox mknod /dev/loop2 b 7 0
fi
#busybox mount -o loop,noatime -t ext2 $kit/bt5.img $mnt
mount -o loop,noatime -t ext2 $kit/bt5.img $mnt
mount -t devpts devpts $mnt/dev/pts
mount -t proc proc $mnt/proc
mount -t sysfs sysfs $mnt/sys
busybox sysctl -w net.ipv4.ip_forward=1
echo "nameserver 8.8.8.8" > $mnt/etc/resolv.conf
echo "127.0.0.1 localhost bt5" > $mnt/etc/hosts
busybox chroot $mnt /bin/bash

echo "Shutting down BackTrack ARM For Xoom"
umount $mnt/dev/pts
umount $mnt/proc
umount $mnt/sys
umount $mnt
````

现在用到你的Samsung Galaxy S (Captivate)手机了

#### 8. 把SD卡装回去 手机
因为现在SD卡是ext的系统，所以手机不能正确识别。


#### 9. 把SD卡挂在到 /data/local/sdcard (没有文件夹你就创建他)
现在我们需要挂在我们的SD卡，需要用到第一步的操作。

代码:
````sh
mkdir /data/local/sdcard

mount -t ext2 /dev/block/vold/179:9 /data/local/sdcard
````


#### 10. 切换到SD卡的目录（因为我们把SDK挂载到 /data/local/sdcard目录了，所以这个目录对应的就是SD卡的根目录）

代码:
````
cd /data/local/sdcard/BT5
````

#### 11.引导BT系统

代码:
````
sh bootbt
````
如果你返回了像下面一样的信息的话:

代码:
````
root@localhost / #
````
恭喜你BT系统已经开始工作了。

现在开始搞界面了

#### 12. 修改starvnc文件设置分辨率为800x480, 因为这是 手机 的分辨率。
你也可以不改，但如果改了，/usr/bin/startvnc，那就得修改成下面这个样子

代码:
````
#!/bin/bash

rm -rf /tmp/.X1*

vncserver -geometry 800x480
````

#### 13. 获得环境变量
现在你可以运行startvnc了，但是会有些错误，所以我建议先打下面的代码：:

代码:

````
su -
````
#### 14. 运行startvnc

代码:

````
export USER=root

vncpasswd

startvnc
````

如果你没有干第12步的话:

代码:
````
tightvncserver -geometry 800x480
````

#### 15. 使用 android的vnc连接到本机

使用VNC连接到 手机

代码:

````
Nickname: BT5 ARM

Password: ******* (whatever you chose)

Address: localhost

Port: 5901

Colof-Format: 24-bit (Recommended)
````

#### 16. 从顶部面板删掉消息和关机的托盘图标

当我用键盘控制VNC去连接的时候，有些字母我用不了，比如s或是m，用鼠标去干掉那些程序（就行了）。


#### 17. 享受你的BT5系统吧


欢迎任何意见。



原文地址：

http://www.backtrack-linux.org/forums/backtrack-5-how-tos/40719-installing-bt5-arm-samsung-galaxy-s-captivate.html?langid=8

讲来讲去就是第11步重要。引导了BT5起来了基本上就OK了。后面的VNC的作用是获得一个图形界面来操控。

2011-05-30后记：

老D按照教程，格式化了ext2后，在手机中死活mount不上去。报错，No such Devive。

后来我们商量了下估计是系统原因，驱动是OK的，把SD卡拿下来放上去/dev/block/vold/下有新文件出来。

把SD卡放回UBUNTU格式化为Ext3后，再放回手机就挂上去了。

![手机安装bt5系统](http://pic002.cnblogs.com/images/2011/140670/2011053021105641.jpg)
