---
title: 前后端处理分页
date: 2016-07-20 11:07:00
tags: [JS,PHP,分页]
---

不管前后端算法是一致的，表现出来的处理步骤不一样。

## 已知道数据和设定



```` javascript
$data = new Array( 2000 ); // 数据
$data_size = $data.length; // 数据的总长度
$page_size = 560; // 页长
$page_count = Math.ceil( $data_size / 560 ) // 总页数

$current_page = $_GET['pn'] || 0 ; // 当前页码 $_GET 是JS 的实现


　　
````

以下是 $_GET.js 的代码

```` javascript
$_GET = {};
location.search.substr(1).split('&').forEach(function(i){
  var i=i.split('=');$_GET[i[0]]=i[1]
})
````


## 需要呈现的数据

````javascript
$show_data = $data.slice( $current_page*$page_size, $page_size );

````

## 页码控制部分

> 【首页】【上一页】【1】【2】...【下一页】【末页】

#### 页码控制的关键参数

- 首页： $_GET['pn']=0
- 上一页： Math.max( $_GET['pn']-=1 ,0 )
- 下一页： Math.min( $_GET['pn']+=1 ,$page_count )
- 末页：$page_count
